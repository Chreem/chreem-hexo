---
title: message queue
date: 2017-10-24 18:11:43
categories: mq
tags: usage
---
# å‡èŠå¤©å®¤MQ

hello worldç”¨èµ·æ¥ä¸å°±æ˜¯èŠå¤©å®¤ä¹ˆğŸ˜‚, åœ¨æ¶ˆè´¹è€…/è®¢é˜…è€…å‡ ä¹æ²¡è€—æ—¶ä»»åŠ¡æ—¶ç¡®å®å¾ˆåƒ.

## ä½œç”¨

è¯·æ±‚æ”¾åœ¨MQä¸­å¾…åç«¯ç©ºé—²å–èµ°, ~~~~  
ç”¨ä»¥ä½è€¦åˆçš„æ¨¡å—åˆä½œ  
åº”ç”¨äº¤äº’å¯¹è±¡ç”±å¦ä¸€ä¸ªåº”ç”¨æ”¹ä¸ºMQ  

> åœ¨å•ä¸€æœåŠ¡å™¨å†…éƒ¨å¯é€šè¿‡å¤šçº¿ç¨‹å…±äº«å†…å­˜é˜Ÿåˆ—çš„æ–¹å¼å®ç°å¼‚æ­¥  
> åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥çœ‹ä½œå†…å­˜é˜Ÿåˆ—çš„åˆ†å¸ƒå¼éƒ¨ç½²  
> --from ã€Šå¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„ æ ¸å¿ƒåŸç†ä¸æ¡ˆä¾‹åˆ†æã€‹

~~åˆåŒå’å•ä¸€ä¸ªé“¶è¡Œæ’é˜Ÿ, åšå®Œäº†äºº/çª—å£ ç°åœ¨ç»ˆäºè½®åˆ°å–å·äº†ä¹ˆ~~  
~~æ²¡ä½“éªŒè¿‡é‚£ç§è§„æ¨¡çš„é—®é¢˜ å®åœ¨å¾ˆéš¾ä½“ä¼šå…·ä½“ç”¨é€”~~  

<!-- more -->

## æ¨¡å¼

ç”Ÿäº§-æ¶ˆè´¹æ˜¾ç„¶æ˜¯ä¸ºäº†æ–¹ä¾¿æ‰©å®¹, åç«¯å®•æœºä¹Ÿèƒ½æš‚å­˜æ¶ˆæ¯  
å‘å¸ƒ-è®¢é˜…

## ä½¿ç”¨

å‡ä¸ºwindowsä¸‹

### Redis

å…¶ä¸­redisçš„è®¢é˜…å‘å¸ƒæ¨¡å¼å¯ç›´æ¥ä½œä¸ºä¸€ä¸ªç®€å•çš„MQä½¿ç”¨.  
å¯¹äºå°æ•°æ®çš„å…¥é˜Ÿå‡ºé˜Ÿæ“ä½œæ€§èƒ½ç”šè‡³è¶…è¿‡RabbitMQ, ä¸è¿‡å½“æ•°æ®æ¥è¿‘10k Rediså…¥é˜Ÿæ€§èƒ½ç›´çº¿ä¸‹é™, è¯¦æƒ…:  
<http://blog.csdn.net/sunxinhere/article/details/7968886>

1. å®‰è£…redis (winä¸‹å®‰è£…å®Œæˆåå·²è‡ªåŠ¨è¿è¡Œå…¶æœåŠ¡)
2. å‘½ä»¤`subscribe` `publish` `unsubscribe`:
    ```md
    cmd > redis-cli
    ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯ 127.0.0.1:6379> subscribe test
    ç¬¬äºŒä¸ªå®¢æˆ·ç«¯ 127.0.0.1:6379> publish test hehe
    ```

å½“ç„¶redisä»…ä¾›å°è¯•, å®Œå…¨ä½“è¿˜æ˜¯å¾—ç”¨çº¯æ­£çš„MQæ‰è¡Œ

### RabbitMQ

1. Erlang
2. å®‰è£…RabbitMQ
3. å…è®¸è¿œç¨‹ç”¨æˆ·
    ```bash
    # æœ¬åœ°è¿æ¥é»˜è®¤é€šè¿‡guestç”¨æˆ·, è€Œæ­¤ç”¨æˆ·ä»…localhostå¯ç”¨, æ‰€ä»¥æ·»åŠ ç”¨æˆ·:
    rabbitmqctl add_user user password
    rabbitmqctl set_user_tags user administrator  
    rabbitmqctl set_permissions -p / user ".*" ".*" ".*"  
    ```
4. é˜²ç«å¢™å…è®¸TCP 5672
